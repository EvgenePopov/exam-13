<div class="error" *ngIf="fetchError | async"> {{fetchError | async}}</div>
<mat-progress-spinner *ngIf="fetchLoading | async else placesArea" mode="indeterminate"></mat-progress-spinner>

<ng-template #placesArea>
    <div fxLayout="row wrap" fxLayoutGap="16px grid">
        <div
                fxFlex.xs="100%"
                fxFlex.sm="50%"
                fxFlex.lt-lg="33%"
                fxFlex="33%"
                *ngFor="let place of places | async"
        >
            <mat-card class="card" (click)="getInformation(place._id)">
                <div class="img-block">
                    <img mat-card-image class="img" *ngIf="place" [src]="apiUrl + '/uploads/' + place.image" [alt]="place.title">
                </div>
                <mat-card-header>
                    <mat-card-title>{{ place.title }}</mat-card-title>
                </mat-card-header>
                <mat-card-content>
                    <div class="review">
                        <p>Rating: </p>
                        <ngb-rating [(rate)]="place.rating">
                            <ng-template let-fill="fill" let-index="index">
                                <span class="star" [class.filled]="fill === 100" [class.bad]="index < 3">&#9733;</span>
                            </ng-template>
                        </ngb-rating>
                        <p>{{place.rating}}</p>
                    </div>
                </mat-card-content>
            </mat-card>
        </div>
    </div>
</ng-template>